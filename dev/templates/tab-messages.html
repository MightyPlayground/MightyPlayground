<ion-view view-title="Public Messages">
  <ion-content>
    <div class="bar bar-header">
      <button class="button" ng-click="sortFeed('top')">Top</button>
      <button class="button" ng-click="sortFeed('new')">New</button>
      <button class="button" ng-click='newMessage()'>Compose</button>
    </div>
    <ion-refresher pulling-text="Pull to refresh" on-refresh="doRefresh()">
        </ion-refresher>

    <div class="card" ng-repeat="message in message.messages">
      <div class="item item-text-wrap">
      <b>Name:</b>{{message.message}}
      <!-- <i class ='ion-heart'></i> -->
          <b>{{message.votes}}</b>
          <i class ='ion-plus-round' ng-click="handleVote(message, 'upVote')"></i> 
          <i class ='ion-cash'></i> 
          <i class ='ion-minus-round' ng-click="vote(message._id, message.votes, 'downVote')"></i> 
          <button ng-click="getReplies(message)">Message Detail</button>
        </div>
      </div>
    </div>
  </ion-content>
</ion-view>


